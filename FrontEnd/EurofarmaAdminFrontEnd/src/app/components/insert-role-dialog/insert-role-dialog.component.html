<h1 mat-dialog-title>Add New Role</h1>
<div mat-dialog-content>
  <form [formGroup]="insertRoleForm" class="form">
    <mat-form-field appearance="fill">
      <mat-label>Nome do cargo</mat-label>
      <input matInput formControlName="name" required>
      @if(insertRoleForm.get('name')?.hasError('required')){
        <mat-error>
            Nome do cargo é obrigatório
          </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Departamento</mat-label>
      <mat-select formControlName="departmentId" required>
        @for (department of departments; track department.id) {
            <mat-option [value]="department.id">{{ department.departName }}</mat-option>
          } 
          @empty {
            <mat-option [value]="null">Sem departamento cadastrado</mat-option>
          }
      </mat-select>
      @if(insertRoleForm.get('departmentId')?.hasError('required')){
        <mat-error >
            Departmaneto é obrigatório
          </mat-error>
      }
    </mat-form-field>
  </form>
</div>
<div mat-dialog-actions class="actionsBox">
    <button mat-raised-button color="primary" [disabled]="!insertRoleForm.valid" (click)="insertRole()">
        Confirmar
      </button>
  <button mat-button (click)="dialogRef.close()">Cancelar</button>
  
</div>